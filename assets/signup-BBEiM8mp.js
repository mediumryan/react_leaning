import{w as N,v as f,b as a,t as e}from"./index-Djl51xko.js";import{L as t,B as w,K as y,M as C,N as S}from"./label-DahRaslS.js";import{C as b}from"./card-DP1A_csb.js";import{I as r}from"./input-BbUSEJaE.js";import{b as E}from"./auth-BMF5Exlz.js";import"./firestore_utils-DVQETLsh.js";const k=()=>{const x=f(),[i,h]=a.useState(""),[o,p]=a.useState(""),[n,g]=a.useState(""),[m,j]=a.useState(""),[c,d]=a.useState(null),v=async s=>{s.preventDefault(),d(null);try{const u=(await E(n,m)).user;if(!u)throw new Error("User creation failed");await y(C(S,"users",u.uid),{name:i,nickname:o,email:n,course:"Beginner",grade:"Bronze",exp:0,authority:"user"}),alert("サインアップに成功しました！ようこそ！"),x("/")}catch(l){d(l.message),alert(`サインアップに失敗しました: ${l.message}`)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(b,{className:"p-8 w-full max-w-sm shadow-lg",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Sign Up"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",children:"Name"}),e.jsx(r,{id:"name",type:"text",placeholder:"REACT TARO",value:i,onChange:s=>h(s.target.value),required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"nickname",children:"Nickname"}),e.jsx(r,{id:"nickname",type:"text",placeholder:"React Machine",value:o,onChange:s=>p(s.target.value),required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"email",children:"Email"}),e.jsx(r,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:s=>g(s.target.value),required:!0,className:"mt-1"})]}),e.jsx(t,{className:"text-red-400 text-xs",children:"*必ず実在するメールアドレスを入力してください。"}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"password",children:"Password (6文字以上)"}),e.jsx(r,{id:"password",type:"password",placeholder:"********",value:m,onChange:s=>j(s.target.value),required:!0,className:"mt-1"})]}),c&&e.jsx("p",{className:"text-red-500 text-sm",children:c}),e.jsx(w,{type:"submit",className:"w-full mt-4",children:"Submit"})]})]})})},A=N(k);export{A as default};
