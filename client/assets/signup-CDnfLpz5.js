import{w,q as N,a as t,p as e}from"./chunk-EPOLDU6W-K4piUF01.js";import{c as y}from"./contentData-D89YquwA.js";import{d as C,B as S,s as b,j as E,k}from"./button-BLTjC7jM.js";import{C as q}from"./card-B9Oa5ilp.js";import{L as a,I as r}from"./input-DCM0CQSc.js";import{a as U}from"./auth-DMKG25ru.js";import"./index-HXCuKcVE.js";import"./firestore_utils-DDjvgd02.js";const A=()=>{const p=N(),[o,x]=t.useState(""),[m,h]=t.useState(""),[n,g]=t.useState(""),[c,j]=t.useState(""),[d,i]=t.useState(null),[{data:f}]=C(y),v=async s=>{if(s.preventDefault(),i(null),!f){i("コンテンツデータがまだ読み込まれていません。もう一度お試しください。");return}try{const u=(await U(n,c)).user;if(!u)throw new Error("User creation failed");await b(E(k,"users",u.uid),{name:o,nickname:m,email:n,course:"Beginner",grade:"Bronze",exp:0,authority:"user"}),alert("サインアップに成功しました！ようこそ！"),p("/")}catch(l){i(l.message),alert(`サインアップに失敗しました: ${l.message}`)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(q,{className:"p-8 w-full max-w-sm shadow-lg",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Sign Up"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"name",children:"Name"}),e.jsx(r,{id:"name",type:"text",placeholder:"REACT TARO",value:o,onChange:s=>x(s.target.value),required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"nickname",children:"Nickname"}),e.jsx(r,{id:"nickname",type:"text",placeholder:"React Machine",value:m,onChange:s=>h(s.target.value),required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"email",children:"Email"}),e.jsx(r,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:s=>g(s.target.value),required:!0,className:"mt-1"})]}),e.jsx(a,{className:"text-red-400 text-xs",children:"*必ず実在するメールアドレスを入力してください。"}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"password",children:"Password (6文字以上)"}),e.jsx(r,{id:"password",type:"password",placeholder:"********",value:c,onChange:s=>j(s.target.value),required:!0,className:"mt-1"})]}),d&&e.jsx("p",{className:"text-red-500 text-sm",children:d}),e.jsx(S,{type:"submit",className:"w-full mt-4",children:"Submit"})]})]})})},z=w(A);export{z as default};
